# Brainarr 1.2.4 – JSON Registry Foundations (2025-09-12)

## Highlights

- **External model registry (opt-in)** – Introduced a JSON-driven provider registry with optional remote URL support, shared caching, and ETag validation. Enable via `BRAINARR_USE_EXTERNAL_MODEL_REGISTRY=true`; override the source with `BRAINARR_MODEL_REGISTRY_URL`.
- **Registry-aware provider factory** – Providers can inherit defaults (endpoints, timeouts, retries, recommended models) and environment-sourced API keys from the registry without mutating saved settings.
- **Embedded artifacts** – Bundled `docs/models.example.json` and `docs/models.schema.json` as both content and embedded resources so offline installs retain curated defaults.
- **Documentation sweep** – Updated README, provider guides, and wiki content with registry instructions and 1.2.4 verification statuses (LM Studio, Gemini, Perplexity).

## Compatibility

- Requires Lidarr 2.14.1.4716+ on the nightly/plugins branch.
- No schema changes. Existing configurations continue working even when the registry feature is disabled (default state).

## Verification Snapshot

- ✅ LM Studio (Local Server + Qwen 3)
- ✅ Google Gemini (AI Studio key – Flash & Pro models)
- ✅ Perplexity (Sonar large online)
- ❓ OpenAI, Anthropic, OpenRouter, DeepSeek, Groq, Ollama – pending verification for this release

## Upgrade Notes

- Deploy as usual (plugin gallery or manual copy). No migration steps required.
- To trial the registry feature, set the environment variables before restarting Lidarr. Clear the cache at `%TEMP%/Brainarr/ModelRegistry/registry.json` if you need to force a refresh.

## Links

- [Changelog entry](../CHANGELOG.md#124---2025-09-12)
- [Provider support matrix](../PROVIDER_SUPPORT_MATRIX.md)
- [Registry schema](../models.schema.json)
