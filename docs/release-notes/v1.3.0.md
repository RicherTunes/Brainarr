# Brainarr 1.3.0 - 2025-09-29

## Highlights

- Introduced configurable `SamplingShape` defaults and validation so sampling ratios, relaxed-match caps, and detection heuristics are data-driven.
- Added a generated provider matrix pipeline (`docs/providers.yaml` + `scripts/sync-provider-matrix.ps1`) that feeds README, docs, and wiki from a single source of truth.
- Hardened `LibraryAwarePromptBuilder` with a headroom guard, deterministic ordering, stable hashing, and drift-aware trimming to keep prompts reproducible.
- Refreshed documentation and tooling for the 1.3.0 cycle, including upgrade notes, troubleshooting, and guardrail scripts that enforce provider/min-version truth.

## Compatibility

- Requires Lidarr 2.14.2.4786+ on the nightly (plugins) branch.
- No database changes; upgrade directly from 1.2.x.

## Testing

- Expanded unit coverage for sampling defaults, headroom guards, plan cache concurrency, and renderer tie-breakers.
- Validated the new documentation tooling via CI to ensure generated artifacts stay synchronized.

## Links

- [Changelog](../../CHANGELOG.md)
- [Upgrade Notes 1.3.0](../upgrade-notes-1.3.0.md)
- [Configuration Guide](../configuration.md)
- [Troubleshooting](../troubleshooting.md)
