<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <packageSources>
    <!-- Essential sources only - avoid private feeds that cause authentication issues -->
    <add key="nuget.org" value="https://api.nuget.org/v3/index.json" />
    <!-- Public taglib source for Lidarr plugins -->
    <add key="Taglib" value="https://pkgs.dev.azure.com/Lidarr/Lidarr/_packaging/Taglib/nuget/v3/index.json" />
  </packageSources>

  <packageSourceCredentials>
    <!-- No credentials needed for public sources -->
  </packageSourceCredentials>

  <disabledPackageSources>
    <!-- Disable potentially problematic sources -->
  </disabledPackageSources>

  <packageSourceMapping>
    <!-- Map most packages to nuget.org -->
    <packageSource key="nuget.org">
      <package pattern="Microsoft.*" />
      <package pattern="System.*" />
      <package pattern="Newtonsoft.*" />
      <package pattern="NLog*" />
      <package pattern="FluentValidation*" />
      <package pattern="xunit*" />
      <package pattern="Moq*" />
      <package pattern="Castle.*" />
      <package pattern="FluentAssertions*" />
      <package pattern="coverlet.*" />
      <package pattern="Bogus*" />
      <!-- Allow installing ReportGenerator global tool for coverage HTML -->
      <package pattern="dotnet-reportgenerator-globaltool" />
      <!-- Allow Stryker mutation testing tool -->
      <package pattern="dotnet-stryker" />
    </packageSource>
    <!-- Map TagLib packages to Taglib source -->
    <packageSource key="Taglib">
      <package pattern="TagLibSharp*" />
    </packageSource>
  </packageSourceMapping>
</configuration>
