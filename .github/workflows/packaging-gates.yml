name: Packaging Gates

on:
  schedule:
    - cron: '30 4 * * *'  # 04:30 UTC daily â€” nightly packaging verification
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  packaging-gates:
    uses: RicherTunes/Lidarr.Plugin.Common/.github/workflows/packaging-gates.yml@b9492e87502cfe93ec90709b387aea5bb079c698
    with:
      common-path: ext/Lidarr.Plugin.Common
      plugin-csproj: Brainarr.Plugin/Brainarr.Plugin.csproj
      manifest-path: plugin.json
      host-assemblies-path: ext/Lidarr-docker/_output/net8.0
      lidarr-docker-version: pr-plugins-2.14.2.4786
